# Pass REST API

The user, using the mobile application, will transmit the following data about the pass to the FSTR:

1. Coordinates of the place and its height;
2. Name of the object;
3. Some photos;
4. information about the user who transmitted data about the pass:
    - username (full name in string);
    - email;
    - telephone.

METHOD 1:
The submitData method accepts JSON in the request body with information about the pass. Below is an example of such JSON:

{
  "beauty_title": "pass",
  "title": "Phiya",
  "other_titles": "Triev",
  "connect": "",
 
  "add_time": "2021-09-22 13:18:13",
  "user": {"email": "qwerty@mail.ru", 		
        "fam": "Pupkin",
		 "name": "Vasily",
		 "otc": "Ivanovic",
        "phone": "+7 555 55 55"}, 
 
   "coords":{
  "latitude": "45.3842",
  "longitude": "7.1525",
  "height": "1200"},
 
 
  "level":{"winter": "",
  "summer": "1А",
  "autumn": "1А",
  "spring": ""},
 
   "images": [{"data":"<image1>", "title":"Seglovina"}, {"data":"<image2>", "title":"Upping"}]
}

There are three result of method JSON:

status — HTTP code, integer:
    500 — error during operation;
    400 — Bad Request (if there are not enough fields);
    200 - success.
message — string:
    Reason for the error (if there was one);
    Sent successfully;
    If the sending is successful, the id of the inserted record is additionally returned.
id is the identifier that was assigned to the object when it was added to the database.

Examples:

{ "status": 500, "message": "Interval server error","id": null}
{ "status": 200, "message": null, "id": 42 }

METHOD 2:
GET /submitData/<id> - get one record (pass) by its id.
Display all information about the object, including moderation status.

METHOD 3:
PATCH /submitData/<id> - edit an existing record (replacement) if it is in the new status.
You can edit all fields except those containing your full name, email address and phone number. The method accepts the same json that accepted the submitData method you already implemented.
Return two values as a result:
state:
    1 - if you were able to successfully edit a record in the database.
    0 - otherwise.
message — if updating the record failed, write why.

METHOD 4:
GET /submitData/?user__email=<email> - a list of data about all objects that the user with email <email> sent to the server.

The documentation was generated by the drf-yasg(swagger):
    http://127.0.0.1:8080/docs/